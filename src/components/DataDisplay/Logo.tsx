"use client";

import { AnimatePresence, motion, Variants } from 'motion/react';

interface LogoProps {
  width?: string | number;
  height?: string | number;
  color?: string;
  onAnimationComplete?: () => void
  disableHeartEnding?: boolean;
}

const getTextVariant = (color = "rgba(255,255,255,1)") : Variants => {
  return {
    hidden: {
      pathLength: 0,
      opacity: 0,
      fill: "rgba(255,255,255,0)"
    },
    visible: (i: number) => {
      const delay = 3 + (i + 2) * (0.1);

      return {
        pathLength: 1,
        opacity: 1,
        fill: color,
        stroke: "transparent",
        transition: {
          fill: {
            delay,
            duration: 0.8
          },
          pathLength: {
            delay,
            type: "spring",
            duration: 0.8,
            bounce: 0
          },
          opacity: {
            delay,
            duration: 0.01
          }
        }
      };
    }
  }
}

export default function Logo({ width, height, disableHeartEnding, onAnimationComplete, color = "#fff" }: LogoProps) {
  return (
    <motion.svg width={width} height={height} viewBox="0 0 600 600" fill="transparent" initial="hidden" animate="visible" className="overflow-visible" stroke={color}>
      {/* m <3 c*/}
      <g>
        <motion.path
          stroke={color}
          strokeWidth={3}
          initial={{ pathLength: 0 }}
          animate={{pathLength: 0.480 }}
          transition={{
            pathLength: {
              delay: 0.5,
              duration: 0.5
            },
          }}
          d="m171.2563,277.6893c-4.1343,5.6827-6.2169,13.3503-7.8415,20.087-.8078,3.3497-4.1089,12.696-1.3351,15.6115.3308.3477.9813.5731,1.448.3827,4.33-1.766,6.4883-7.6657,8.5307-11.4818.7244-1.3535,4.8793-10.7593,7.028-8.302,1.0309,1.1789.0834,8.6902.0978,10.1924.0107,1.1103,1.2622,1.8785,2.2394,1.2851,2.1833-1.3257,6.094-7.8757,8.9098-6.964.3934.1274,1.5717,2.7969,2.0657,3.2799.7585.7416,1.6119,1.1971,2.5579,1.6481,2.1753,1.0371,3.9582,1.26,6.0031.0298,3.9362-2.3681,7.464-6.4386,10.9355-9.4544,1.4487-1.2586-.6641-3.3563-2.1047-2.1047-1.9442,1.689-3.8884,3.3781-5.8326,5.0671-1.0561.9175-3.0893,3.265-4.3744,3.8003-5.122,2.1338-4.6892-3.8851-7.8425-5.1378-4.6982-1.8663-8.7799,5.4195-11.8202,7.2655l2.2394,1.2851c-.031-3.2326,1.7395-12.6745-2.1296-14.5383-4.1107-1.9801-7.3788,5.286-8.8169,7.9205-1.7633,3.2301-3.3105,6.6317-5.3128,9.7212-.5713.9622-1.2402,1.8557-2.0067,2.6805.2448,1.7872.3908,1.6064.4382-.5422.508-2.0617.6118-4.4404,1.017-6.5568,1.5083-7.8786,3.7052-17.1141,8.4765-23.6723,1.1284-1.551-1.453-3.0379-2.5702-1.5023h0Z"/>
        <motion.path
          stroke={color}
          initial={{ pathLength: 0 }}
          animate={{pathLength: 0.505 }}
          transition={{
            pathLength: {
              delay: 1,
              duration: 2
            },
          }}
          d="m214.3621,293.1254c8.5666-.6745,16.692,2.3455,25.0882,3.4974,7.9662,1.0929,16.0597,1.0967,24.0312.0518,14.5107-1.9021,28.4812-7.3015,40.3989-15.8107,11.0227-7.8702,20.2644-18.2251,26.8059-30.0869,5.587-10.1311,12.2184-26.1485,1.606-35.5108-10.7935-9.522-27.2426.6021-32.0138,11.5603l1.664.4507c.7476-6.5091-6.3569-11.1715-11.9989-12.4634-6.2376-1.4283-13.5936-.4677-18,4.5249-10.3401,11.7159-4.9006,29.3859,3.8954,40.1171,11.1372,13.5875,27.9098,23.9247,43.9499,30.6181,17.0148,7.1001,35.7217,10.1048,54.0471,7.5136,16.6298-2.3514,35.5458-9.4285,43.0374-25.7059.4772-1.0369-1.0616-1.9454-1.5421-.9014-7.7335,16.8032-27.916,23.4644-45.0325,25.2599-19.5021,2.0458-39.1807-2.2998-56.6789-10.9228-15.3464-7.5627-32.8104-18.6953-41.2506-34.0976-4.6922-8.5628-6.2059-19.9414-.7-28.5303,3.2268-5.0337,8.4456-6.9396,14.2752-6.6292,5.6651.3017,15.0165,4.2132,14.2121,11.2171-.0989.8608,1.3174,1.2468,1.664.4507,3.3982-7.8047,10.7603-13.7814,19.4919-14.1657,12.9852-.5715,16.5674,12.4352,13.6778,22.8027-4.1244,14.7976-14.5783,28.4864-26.1097,38.3372-12.437,10.6244-27.7646,17.5357-43.9314,19.9761-8.9102,1.345-18.062,1.3466-26.9642-.0627-7.9237-1.2544-15.5052-3.9153-23.6227-3.2762-1.1382.0896-1.1479,1.8763,0,1.7859h0Z"/>
        <motion.path
          stroke={color}
          strokeWidth={3}
          initial={{ pathLength: 0 }}
          animate={{pathLength: 0.480 }}
          transition={{
            pathLength: {
              delay: 3,
              duration: 0.5
            },
          }}
          d="m419.2116,269.0882c.9295-2.238,3.0098-6.4973,1.5011-8.9202-1.2955-2.0806-5.0596-2.7394-7.239-1.963-2.9043,1.0348-5.0509,4.9259-6.5767,7.3383-2.1047,3.3277-3.9198,7.0892-4.0122,11.1056-.1708,7.4168,6.2129,9.0407,12.4524,7.1177,9.1485-2.8195,17.541-10.0892,24.855-16.0396,1.4865-1.2094-.6306-3.3041-2.1047-2.1047-4.1712,3.3935-8.4785,6.5999-12.9704,9.5574-4.1513,2.7332-8.8596,6.14-13.9989,6.4082-9.011.4702-4.2099-10.4963-1.651-14.5423,1.1693-1.8488,4.0501-7.4476,7.0074-6.028,2.9372,1.41.631,5.4389-.1333,7.2792-.734,1.7671,2.1448,2.5378,2.8702.7913h0Z"/>
      </g>

      {/* Heart only */}
      <AnimatePresence>
        {!disableHeartEnding && <g>
          <motion.path
            d="m302.927,280.4495c15.8195-12.3879,22.3187-18.6554,30.4105-37.0467,2.1821-4.9596,3.9335-10.274,3.6524-15.6852s-2.9366-10.9524-7.7307-13.4775c-2.9035-1.5292-6.3304-1.841-9.5857-1.4263-8.18,1.0419-15.5895,6.7961-18.6242,14.4634.6796-2.723-.9226-5.6048-3.181-7.2711s-4.7067-3.5014-7.4311-4.1751c-4.3136-1.0667-9.3523-.9833-13.4321.7776-2.581,1.114-4.6063,3.2531-6.1071,5.63-5.0757,8.0384-4.4574,18.7344-.3854,27.3249,4.0721,8.5905,11.1405,15.3895,18.6097,21.2708,14.0254,11.0438,2.0585,2.0354,13.8046,9.6152"
            fill={color}
            onAnimationComplete={onAnimationComplete}
            initial={{
              opacity: 0,
              scale: 1,
            }}
            animate={{
              opacity: 1,
              scale: 20,
            }}
            transition={{
              opacity: {
                delay: 8,
                duration: 0.5,
              },
              scale: {
                ease: "easeInOut",
                delay: 8,
                duration: 1,
              }
            }}
          />
        </g>}
      </AnimatePresence>

      {/* Micka & CÃ©cile */}
      <g>
        <motion.path
          variants={getTextVariant(color)}
          custom={4}
          d="m184.8595,329.7002v17.9h-2.3v-11.2l-6.4,9h0l-6.3-8.7v10.9h-2.2v-17.9h0l8.5,12.1,8.7-12.1h0Z"/>
        <motion.path
          variants={getTextVariant(color)}
          custom={5}
          d="m197.6315,330.2002v17.4h-2.3v-17.4h2.3Z"/>
        <motion.path
          variants={getTextVariant(color)}
          custom={6}
          d="m220.9076,346.3002c-.6.4-1.3.7-2.1,1s-1.8.5-2.8.5c-1.8,0-3.3-.4-4.7-1.2-1.3-.8-2.4-1.8-3.1-3.2-.7-1.3-1.1-2.8-1.1-4.4,0-1.7.4-3.2,1.1-4.6.7-1.4,1.8-2.4,3.1-3.2s2.8-1.2,4.4-1.2c1,0,1.9.1,2.8.4.8.2,1.6.6,2.3,1l-1.1,2.2c-1.3-.9-2.7-1.4-4-1.4-1.1,0-2.2.3-3.1.9-.9.6-1.7,1.4-2.3,2.4s-.9,2.1-.9,3.3.3,2.4.8,3.4,1.3,1.8,2.2,2.4c1,.6,2.1.9,3.4.9,1.5,0,2.9-.4,4-1.3l1.1,2.1Z"/>
        <motion.path
          variants={getTextVariant(color)}
          custom={7}
          d="m232.4857,338.1002l.3-.5,7.1-7.4h3l-7.2,7.4,7.6,9.9h-3l-6.3-8.3-1.5,1.4v7h-2.4v-17.4h2.4v7.9Z"/>
        <motion.path
          variants={getTextVariant(color)}
          custom={8}
          d="m261.1118,343.0002h-6.7l-1.9,4.6h-2.3l7.6-18.1h.1l7.7,18.1h-2.7l-1.8-4.6Zm-.8-2l-2.5-6.3-2.6,6.3h5.1Z"/>
        <motion.path
          variants={getTextVariant(color)}
          custom={9}
          d="m298.19,347.6002l-1.4-1.9c-.5.7-1.2,1.2-2,1.6s-1.8.6-2.9.6-2.1-.2-2.9-.7c-.9-.5-1.6-1.1-2.1-1.9s-.7-1.7-.7-2.6c0-.8.2-1.6.6-2.3.4-.7.9-1.3,1.6-1.8.7-.5,1.5-.9,2.3-1.1l-.8-1c-.8-1.2-1.2-2.3-1.2-3.2,0-.7.2-1.3.5-1.9.3-.6.8-1.1,1.5-1.5.7-.4,1.4-.6,2.3-.6s1.7.2,2.5.5,1.4.8,1.9,1.4l-1.1,1.6c-1.1-1-2-1.5-2.9-1.5-.7,0-1.2.2-1.6.6-.4.4-.6.9-.6,1.5s.3,1.3.8,2.1l4.6,6.1,1.7-4.3h2.1l-2.4,6.2,3,4h-2.8v.1Zm-6-1.9c.8,0,1.4-.2,2-.5s1-.7,1.3-1.2l-3.6-4.8c-.6,0-1.1.2-1.6.5s-.9.7-1.2,1.2-.5,1-.5,1.6c0,.9.3,1.7,1,2.3.7.7,1.6.9,2.6.9Z"/>
        <motion.path
          variants={getTextVariant(color)}
          custom={10}
          d="m335.9181,346.3002c-.6.4-1.3.7-2.1,1-.8.3-1.8.5-2.8.5-1.8,0-3.3-.4-4.7-1.2-1.3-.8-2.4-1.8-3.1-3.2-.7-1.3-1.1-2.8-1.1-4.4,0-1.7.4-3.2,1.1-4.6.7-1.4,1.8-2.4,3.1-3.2,1.3-.8,2.8-1.2,4.4-1.2,1,0,1.9.1,2.8.4.8.2,1.6.6,2.3,1l-.9,2.2c-1.3-.9-2.7-1.4-4-1.4-1.1,0-2.2.3-3.1.9-.9.6-1.7,1.4-2.3,2.4-.6,1-.9,2.1-.9,3.3s.3,2.4.8,3.4,1.3,1.8,2.2,2.4c1,.6,2.1.9,3.4.9,1.5,0,2.9-.4,4-1.3l.9,2.1Z"/>
        <motion.path
          variants={getTextVariant(color)}
          custom={11}
          d="m356.5962,330.2002v2.2h-9v5.3h8v2.2h-8v5.4h9.3v2.2h-11.6v-17.3h11.3Zm-5.1-1.1h-1.4l2-3.2h2.5l-3.1,3.2Z"/>
        <motion.path
          variants={getTextVariant(color)}
          custom={12}
          d="m379.1363,346.3002c-.6.4-1.3.7-2.1,1-.8.3-1.8.5-2.8.5-1.8,0-3.3-.4-4.7-1.2-1.3-.8-2.4-1.8-3.1-3.2-.7-1.3-1.1-2.8-1.1-4.4,0-1.7.4-3.2,1.1-4.6.7-1.4,1.8-2.4,3.1-3.2,1.3-.8,2.8-1.2,4.4-1.2,1,0,1.9.1,2.8.4.8.2,1.6.6,2.3,1l-.9,2.2c-1.3-.9-2.7-1.4-4-1.4-1.1,0-2.2.3-3.1.9-.9.6-1.7,1.4-2.3,2.4-.6,1-.9,2.1-.9,3.3s.3,2.4.8,3.4,1.3,1.8,2.2,2.4c1,.6,2.1.9,3.4.9,1.5,0,2.9-.4,4-1.3l.9,2.1Z"/>
        <motion.path
          variants={getTextVariant(color)}
          custom={13}
          d="m390.8144,330.2002v17.4h-2.3v-17.4h2.3Z"/>
        <motion.path
          variants={getTextVariant(color)}
          custom={14}
          d="m403.5905,330.2002v15.1h8.8v2.2h-11.1v-17.3h2.3Z"/>
        <motion.path
          variants={getTextVariant(color)}
          custom={15}
          d="m432.9726,330.2002v2.2h-8.9v5.3h8v2.2h-8v5.4h9.3v2.2h-11.7v-17.3h11.3Z"/>
      </g>
      {/* Date */}
      <g>
        <motion.path
          strokeWidth={0}
          variants={getTextVariant(color)}
          custom={17}
          d="m253.1987,378.5283v-1.1758h3.1362v-6.1885h-2.604v-1.0361h1.3438c.5322,0,.9126-.1162,1.1411-.3496s.3433-.6299.3433-1.1904h.98v8.7646h2.3799v1.1758h-6.7202Z"/>
        <motion.path
          strokeWidth={0}
          variants={getTextVariant(color)}
          custom={18}
          d="m266.3306,378.752c-.644,0-1.2061-.1162-1.687-.3496-.4805-.2334-.8633-.5596-1.1479-.9805-.2847-.4199-.4502-.9043-.4971-1.4551l1.2603-.085c.0747.5605.2959.9824.665,1.2676.3687.2852.8374.4268,1.4067.4268.644,0,1.1597-.1982,1.5474-.5947.3867-.3965.5806-.9453.5806-1.6455,0-.6992-.1841-1.2529-.5527-1.6582-.3687-.4062-.8843-.6094-1.5469-.6094-.3921,0-.7681.0957-1.127.2871-.3599.1914-.6187.4639-.7773.8193h-1.2881l.6582-5.5869h5.292v1.1768h-4.186l-.3638,2.9961c.2422-.2803.541-.4902.896-.6309.3545-.1396.709-.21,1.064-.21.6343,0,1.1919.1475,1.6729.4414.4805.2939.854.6982,1.1201,1.2109.2656.5137.3989,1.1016.3989,1.7637,0,.6631-.145,1.2529-.4341,1.7715-.2896.5176-.6885.9219-1.1968,1.2109-.5088.2891-1.0947.4336-1.7573.4336Z"/>
        <motion.path
          strokeWidth={0}
          variants={getTextVariant(color)}
          custom={19}
          d="m275.2905,378.5283v-1.708h1.7358v1.708h-1.7358Z"/>
        <motion.path
          strokeWidth={0}
          variants={getTextVariant(color)}
          custom={20}
          d="m281.2402,378.5283v-1.1758h3.1362v-6.1885h-2.604v-1.0361h1.3438c.5322,0,.9126-.1162,1.1411-.3496s.3433-.6299.3433-1.1904h.98v8.7646h2.3799v1.1758h-6.7202Z"/>
        <motion.path
          strokeWidth={0}
          variants={getTextVariant(color)}
          custom={21}
          d="m291.04,378.5283v-1.1758h3.1357v-6.1885h-2.6035v-1.0361h1.3438c.5322,0,.9121-.1162,1.1416-.3496.2285-.2334.3428-.6299.3428-1.1904h.9795v8.7646h2.3799v1.1758h-6.7197Z"/>
        <motion.path
          strokeWidth={0}
          variants={getTextVariant(color)}
          custom={22}
          d="m303.332,378.5283v-1.708h1.7363v1.708h-1.7363Z"/>
        <motion.path
          strokeWidth={0}
          variants={getTextVariant(color)}
          custom={23}
          d="m309.1416,378.5283c0-.7002.1094-1.332.3291-1.8975.2188-.5645.6064-1.1035,1.1621-1.6162.5547-.5137,1.3271-1.0312,2.3164-1.5547.457-.2422.8262-.4658,1.1064-.6719.2793-.2051.4854-.4248.6162-.6582.1299-.2324.1953-.5176.1953-.8535,0-.5137-.166-.9307-.4971-1.2529s-.8281-.4834-1.4902-.4834c-.7002,0-1.2539.1826-1.6592.5459-.4062.3643-.6611.8828-.7637,1.5547l-1.2598-.084c.1123-.9707.4854-1.7451,1.1201-2.3242s1.4883-.8682,2.5625-.8682c1.0264,0,1.8242.2656,2.3936.7979s.8535,1.2275.8535,2.0859c0,.5039-.084.9404-.252,1.3096-.168.3682-.4502.7119-.8467,1.0283-.3965.3174-.9404.6582-1.6309,1.0225-.8965.4756-1.5752.957-2.0371,1.4424s-.707.9189-.7354,1.3018h5.5166v1.1758h-7Z"/>
        <motion.path
          strokeWidth={0}
          variants={getTextVariant(color)}
          custom={24}
          d="m322.4414,378.752c-.7188,0-1.3418-.21-1.8691-.6299s-.9307-1.0166-1.2109-1.792c-.2803-.7744-.4199-1.6934-.4199-2.7578,0-1.0732.1396-1.9971.4199-2.7715.2803-.7754.6836-1.375,1.2109-1.7998.5273-.4238,1.1504-.6367,1.8691-.6367.7275,0,1.3525.2129,1.876.6367.5225.4248.9238,1.0244,1.2041,1.7998.2793.7744.4199,1.6982.4199,2.7715,0,1.0645-.1406,1.9834-.4199,2.7578-.2803.7754-.6816,1.3721-1.2041,1.792-.5234.4199-1.1484.6299-1.876.6299Zm-2.2402-5.1797c0,.9336.1162,1.7266.3496,2.3799l3.1924-5.8096c-.3643-.4014-.7979-.6025-1.3018-.6025-.6914,0-1.2373.3623-1.6387,1.085-.4014.7236-.6016,1.7061-.6016,2.9473Zm2.2402,4.0039c.6904,0,1.2363-.3613,1.6377-1.085.4014-.7227.6025-1.6963.6025-2.9189,0-.9424-.1172-1.7402-.3506-2.3936l-3.1914,5.7959c.3633.4014.7979.6016,1.3018.6016Z"/>
        <motion.path
          strokeWidth={0}
          variants={getTextVariant(color)}
          custom={25}
          d="m328.7412,378.5283c0-.7002.1094-1.332.3291-1.8975.2188-.5645.6064-1.1035,1.1621-1.6162.5547-.5137,1.3271-1.0312,2.3164-1.5547.457-.2422.8262-.4658,1.1064-.6719.2793-.2051.4854-.4248.6162-.6582.1299-.2324.1953-.5176.1953-.8535,0-.5137-.166-.9307-.4971-1.2529s-.8281-.4834-1.4902-.4834c-.7002,0-1.2539.1826-1.6592.5459-.4062.3643-.6611.8828-.7637,1.5547l-1.2598-.084c.1123-.9707.4854-1.7451,1.1201-2.3242s1.4883-.8682,2.5625-.8682c1.0264,0,1.8242.2656,2.3936.7979s.8535,1.2275.8535,2.0859c0,.5039-.084.9404-.252,1.3096-.168.3682-.4502.7119-.8467,1.0283-.3965.3174-.9404.6582-1.6309,1.0225-.8965.4756-1.5752.957-2.0371,1.4424s-.707.9189-.7354,1.3018h5.5166v1.1758h-7Z"/>
        <motion.path
          strokeWidth={0}
          variants={getTextVariant(color)}
          custom={26}
          d="m342.0117,378.752c-.6436,0-1.2061-.1162-1.6865-.3496-.4814-.2334-.8633-.5596-1.1484-.9805-.2852-.4199-.4502-.9043-.4971-1.4551l1.2598-.085c.0752.5605.2969.9824.665,1.2676.3691.2852.8379.4268,1.4072.4268.6445,0,1.1602-.1982,1.5469-.5947.3877-.3965.5811-.9453.5811-1.6455,0-.6992-.1846-1.2529-.5527-1.6582-.3691-.4062-.8848-.6094-1.5469-.6094-.3926,0-.7676.0957-1.127.2871s-.6182.4639-.7773.8193h-1.2881l.6582-5.5869h5.292v1.1768h-4.1855l-.3643,2.9961c.2422-.2803.541-.4902.8955-.6309.3545-.1396.71-.21,1.0645-.21.6348,0,1.1924.1475,1.6729.4414s.8535.6982,1.1201,1.2109c.2656.5137.3984,1.1016.3984,1.7637,0,.6631-.1445,1.2529-.4336,1.7715-.2891.5176-.6885.9219-1.1973,1.2109s-1.0938.4336-1.7568.4336Z"/>
      </g>
    </motion.svg>
  );
}
